<div class="professional-header">
  <div class="header-content">
    <div class="header-left">
      <h1 class="page-title">Availability</h1>
    </div>
    
    <!-- View buttons in the center -->
    <app-view-buttons
      [activeView]="activeView"
      (changeView)="onChangeView($event)"
      (openDatePicker)="onOpenDatePicker()"
      (copyWeek)="onCopyWeek()">
    </app-view-buttons>
    
    <!-- Pending changes indicator positioned at top right -->
    @if (pendingChangesCount() > 0) {
      <app-pending-changes-indicator [pendingChangesCount]="pendingChangesCount()">
      </app-pending-changes-indicator>
    }
    
    <!-- Smart Calendar Insights -->
    <div class="header-insights" *ngIf="availability$ | async as availability">
      <app-header-metrics *ngIf="smartMetrics$ | async as metrics" [metrics]="metrics">
      </app-header-metrics>
      
      <app-header-actions
        [pendingChangesCount]="pendingChangesCount()"
        [canUndo]="canUndo()"
        [canRedo]="canRedo()"
        [searchTerm]="searchTerm"
        (search)="onSearch($event)"
        (filter)="onFilter()"
        (analyze)="onAnalyze()"
        (recommendations)="onRecommendations()"
        (refresh)="onRefresh()"
        (undo)="onUndo()"
        (redo)="onRedo()"
        (saveChanges)="onSaveChanges()"
        (discardChanges)="onDiscardChanges()">
      </app-header-actions>
    </div>
  </div>
</div>